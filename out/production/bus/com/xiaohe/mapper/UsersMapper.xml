<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xiaohe.mapper.UsersMapper" >
<!-- 登陆查询验证用户名密码 -->
<select id="queryUsersInfor" parameterType="users" resultType="string">
	select user_id from users where users.user_name = #{user_name} and users.user_password = #{user_password}
</select>

<select id="getMoney" parameterType="int" resultType="int">
	select user_money from users where users.user_id = #{user_id} 
</select>
<select id="getUsersInfor" parameterType="int" resultType="user">
	select user_money,user_name from users where users.user_id = #{user_id} 
</select>
<insert id="setUsersInfor" parameterType="users">
	insert into users (user_name,user_password) value (#{user_name},#{user_password})
	<selectKey keyProperty="user_id" order="AFTER" resultType="int">
		SELECT LAST_INSERT_ID()
	</selectKey>
</insert>

 <update id="computeMoenry" parameterType="SetUserMoney">
        update users set user_money=#{user_money} where user_id=#{user_id}
 </update>
 
  <update id="setMoney" parameterType="SetUserMoney">
        update users set user_money=user_money + #{user_money} where user_id=#{user_id}
 </update>
</mapper>